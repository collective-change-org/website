---
import type { highlightArticle } from '../content/loaders/payload/pages/schema'
import Section from "./section.astro"

import { z } from 'astro:content'
import { createImageUrl } from '../lib/createImageUrl'

type Props = z.infer<typeof highlightArticle>

const props = Astro.props
---

<Section background='white-1'>
	<div class="highlight-article-block">
		<h3 class="typestyle-h3">{props.title}</h3>
		<div class="article-content">
			<img
				src={createImageUrl(props.thumbnail.url)}
				alt={props.thumbnail.alt}
				class="article-thumbnail"
			/>
			<h4 class="article-title">
				{props.articleTitle}
			</h4>
			<p class="article-excerpt">
				{props.articleExcerpt}
			</p>
			<a
				href={props.link.url}
				target={props.link.newTab ? "_blank" : "_self"}
				class="article-link"
			>
				Read more
			</a>
		</div>
	</div>
</Section>

<style>
	div.highlight-article-block {
		color: black;
		max-width: 65ch;

		img {
			max-width: 100%;
			height: auto;

			border-radius: 4px;
			border: 2px dashed var(--color-green-dark);
			aspect-ratio: 16 / 9;
		}
	}
</style>
